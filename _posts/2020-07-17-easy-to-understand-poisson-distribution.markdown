---
layout: post
title:  "602번 버스는 언제 도착할까? 중학교 수학으로 이해하는 푸아송 분포와 활용"
date:   2020-07-17 21:00:00
author: injae Kim
categories: Dev
cover:  "https://images.unsplash.com/photo-1547886597-7e87e5288619?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=752&q=80"
---

## 602번 버스는 언제 도착할까? 중학교 수학으로 이해하는 푸아송 분포와 활용

---

매일 아침 602번 버스를 타고 판교로 출퇴근하는 주니어 백엔드 개발자 라이언은, 버스를 기다리는 시간을 매우 싫어합니다.

따라서, **버스가 5분 안에 도착 할 확률 얼마일까?,  15분 안에 버스가 2대 이상 도착 할 확률은 얼마일까?** 와 같은 질문들에 대해서 답을 계산하고 싶어합니다.

이러한 상황에서 버스가 도착할 확률을 **푸아송 분포**를 활용하여 모델링 하고 계산할 수 있습니다.

하지만, 푸아송 분포의 유도 과정에 대한 이해 없이 공식 만 본다면, 푸아송 분포는 매우 어렵게만 느껴집니다.

오늘은 중학교 수학으로 완벽하게 이해하는 푸아송 분포와 유도 과정, 그 활용에 대해 알아보겠습니다!

<br/>

<br/>

## 푸아송 분포의 정의

---

| <img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/93ad8e91a5a4611aeac25ad18a63acb1ba2a7a3d" alt="푸아송 분포의 정의" style="zoom:50%;" /> |
| :----------------------------------------------------------: |
|                      푸아송 분포의 정의                      |

확률통계나 네트워크의 대기행렬 이론 등을 공부하신 분 이라면 한번쯤은 보셨을 법 한, 푸아송 분포의 정의 입니다. 매우 무시무시하게 생긴 수식이죠!

푸아송 분포는, **정해진 시간 안에 어떤 사건이 일어날 횟수에 대한 기대값을 알고있을 때 그 사건이 n 회 일어날 확률**을 구하는 방법 입니다.

푸아송 분포의 수식과 정의만 봐서는, 대체 왜 저렇게 무섭게 생긴 수식이 사건이 n 회 일어날 확률을 계산할 수 있는건지 , 저런 식이 어떤 과정으로 탄생하게 되었는지 당최 이해를 할 수 없죠!

푸아송 분포의 아이디어와 유도과정부터 쉽고 천천히 알아보도록 하겠습니다.

<br/>

<br/>

## 푸아송 분포의 아이디어

---

푸아송 분포의 아이디어를 쉽게 이해하기 위해, 잠시 도로 교통 공학자가 되어봅시다!

**특정 교차로에서 1시간 당 지나가는 자동차의 평균 대수를 알고있을 때, 우리는 교차로에 N 대 이상의 자동차가 지나갈 확률 을 구하고 싶습니다**. 교통 정체를 방지하기 위해서죠!

1시간 당 지나가는 자동차의 평균 대수는 충분한 시간동안 교차로에 지나간 자동차의 대수를 센 후 측정한 시간 만큼 나누면 쉽게 구할 수 있습니다.

| <img src="https://injae-kim.github.io/assets/Dev/2020-07-17-easy-to-understand-poisson-distribution/슬라이드1.JPG" style="zoom: 50%;" /> |
| :----------------------------------------------------------: |
| 1시간 당 지나가는 자동차의 평균 대수를 알고있을 때, N 대 이상의 자동차가 지나갈 확률 은 ? |

특정 교차로에서 1시간 당 지나가는 자동차의 평균 대수가 3대 라고 측정되었다고 해봅시다.

푸아송 분포의 아이디어는, 1시간 당 지나가는 자동차를 측정하는 방법을 다른 관점으로 바라보면서 시작됩니다.

<br/>

| <img src="https://injae-kim.github.io/assets/Dev/2020-07-17-easy-to-understand-poisson-distribution/슬라이드2.JPG" style="zoom: 50%;" /> |
| :----------------------------------------------------------: |
| 1시간 동안 지나가는 자동차를 관측할 때, 10분 간격으로 지나간 자동차를 세어 보자! |

특정 교차로에서 1시간 동안 평균 3대의 자동차가 지나간다는 사실을 우리는 측정을 통해 알고있습니다.

**이때 1시간 동안 평균 3대의 자동차가 지나간다는 것은 곧 10분 간격으로 1시간 동안 측정하였을때 자동차 3대가 지나가는 경우와 같습니다.**

관측하는 시간 간격을 10분으로 설정한 후, 1시간 동안 10분 간격으로 6번 측정을 해서 자동차가 지나간 횟수가 3번 이면 1시간 동안 평균 3대의 자동차가 지나갔다고 할 수 있겠죠! 

<br/>

| <img src="https://injae-kim.github.io/assets/Dev/2020-07-17-easy-to-understand-poisson-distribution/슬라이드3.JPG" style="zoom: 50%;" /> |
| :----------------------------------------------------------: |
| 1시간을 10분 간격으로 나누어 측정하였을 때 자동차가 3번 지나갔다고 측정되었다면, <br />1시간 당 지나가는 자동차의 평균 대수는 3대라고 할 수 있다 |

푸아송 분포의 본질적인 아이디어는, 이처럼 평균 값을 알고 있을 때 측정 간격을 우리가 정해서 바라볼 수 있다는 관점에서 시작합니다.

감이 좋으신 분들은 벌써 느낌이 오셨을텐데요, 불행이도 저는 아직 이해가 안된것같습니다.

조금 더 자세히 살펴보겠습니다!

<br/>



<br/>

<br/>

<br/>

<br/>

## 푸아송 분포

---



<br/>

<br/>

## 푸아송 분포

---

실생활 에서는 위와같이 어떤 사건이 X 번 일어 날 확률은 얼마인지 궁금한 경우가 많습니다.

- 어느 책 에서 5 페이지에 오타가 10개 발견되었다면, 한 페이지를 검사하였을 때 오타가 3개 이상 나올 확률은?
- 쿠팡의 고객센터에는 1시간 당 평균 300 건의 고객 문의 전화가 걸려오는데, 이때 1분동안 걸려오는 고객 문의 전화가 10건 이하 일 확률 은?
- 톨게이트에 1시간 당 1000대의 자동차가 지나갈 때, 10분에 50대 이하로 자동차가 지나갈 확률은?
- 어떤 나라에서 1년동안 발생한 지진의 진도가 평균 3.0 일때, 진도 5.0 이상의 지진이 발생할 확률은?

위의 질문들에 대한 답을 내야한다면, 어떻게 계산해야 할 지 막막하죠.

<br/>

<br/>

## 결론

---

지금까지 서버에 걸리는 부하의 종류와 원인, 정체와 리눅스 커널에서 부하를 계산하는 코드까지 모든 것 을 알아보았습니다.

물론 서버에 걸리는 부하의 종류와 원인 마다 다양한 대응 방법이 존재하겠지만, 모든 문제 해결의 첫 단계는 부하의 원인에 대한 정확한 측정에서 시작한다고 생각합니다.

문제에 대한 원인을 구체적이고 명확하게 안다면, 엔지니어는 언제나 해결 방법을 찾을 것 입니다.



오랜만에 긴 글을 작성하였네요! 항상 읽어주셔서 감사합니다.

<br/>

<br/>

## Reference

---

- [푸아송분포 - wikipedia]([https://ko.wikipedia.org/wiki/%ED%91%B8%EC%95%84%EC%86%A1_%EB%B6%84%ED%8F%AC](https://ko.wikipedia.org/wiki/푸아송_분포))
- [24시간 365일 서버/인프라를 지탱하는 기술](http://www.yes24.com/Product/Goods/3377489)
- [리눅스 커널 소스코드](https://github.com/torvalds/linux)

<br/>